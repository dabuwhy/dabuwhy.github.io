<style>
.videoWrapper {
	position: relative;
	padding-bottom: 56.333%;
	height: 0;
    background: black;
}
.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
    border: 0;
}    
</style>

<script>
function video_embed() {
    var p = document.getElementsByTagName('mp4');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||p[i].innerHTML.indexOf("https://") == 0) {
            var str = p[i].innerHTML;

            var autoplay=0;
            var loop=0;
            var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="' + str;// + '?rel=0&showinfo=0';
            if(autoplay==1) theInnerHTML += '&autoplay=1';
            if(loop==1) theInnerHTML += '&loop=1';
            theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
            p[i].innerHTML = theInnerHTML;
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('mp3');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML;//.split('?');

            if (str.lastIndexOf('.mp3', str.length - 4) === str.length - 4) {
                var autoplay = 1;
                var loop = 1;
                var controls = 1;
                var newInnerHTML = '<audio';
                if (autoplay == 1) newInnerHTML += ' autoplay';
                if (loop == 1) newInnerHTML += ' loop';
                if (controls == 1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="' + str + '" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>